{%  load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title %}{% endblock %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" >

    <link href="{% static 'accounts/css/profile.css' %}" rel="stylesheet">
    <link href="{% static 'accounts/css/forms.css' %}" rel="stylesheet">
    <link href="{% static 'accounts/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.css">
   <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.js"></script>
</head>
<body>

<div class="sidebar">
    <div class="logo-details">
        <i class='bx bxl-c-plus-plus'></i>
        <span class="logo_name">GZ</span>
    </div>

    <ul class="nav-links">
        <li>
            <a href="{% url "dashboard" %}">
                <i class='bx bx-grid-alt'></i>
                <span class="link_name">Dashboard</span>
            </a>
            <ul class="sub-menu blank">
                <li><a class="link_name" href="#">Dashboard</a></li>
            </ul>
        </li>

        <li>
            <div class="iocn-link">
             <a href="#">
                <i class='bx bx-collection'></i>
                <span class="link_name">Packages</span>
            </a>
            <i class='bx bxs-chevron-down arrow'></i>
         </div>
             <ul class="sub-menu">
                <li><a class="link_name" href="#">Packages</a></li>
                <li><a href="{% url "packages" %}">Availabe Packages</a></li>
                <li><a href="{% url "my_package" %}">My Package</a></li>
             </ul>
        </li>

        <li>
            <div class="iocn-link">
             <a href="#">
                <i class='bx bx-dollar'></i>
                <span class="link_name">Billings</span>
            </a>
            <i class='bx bxs-chevron-down arrow'></i>
         </div>

         <ul class="sub-menu">
            <li><a class="link_name" href="#">Billings</a></li>
            <li><a href="#">Payment</a></li>
            <li><a href="#">Records</a></li>
         </ul>
        </li>

        <li>
            <a href="#">
                <i class='bx bx-grid-alt'></i>
                <span class="link_name">Programs</span>
            </a>
            <ul class="sub-menu blank">
                <li><a class="link_name" href="#">Programs</a></li>
            </ul>
        </li>

        <li>
            <a href="{% url 'trainers' %}">
                <i class='bx bx-grid-alt'></i>
                <span class="link_name">Trainers</span>
            </a>
            <ul class="sub-menu blank">
                <li><a class="link_name" href="{% url 'trainers' %}">Trainers</a></li>
            </ul>
        </li>

        <li>
            <div class="iocn-link">
             <a href="#">
                <i class='bx bx-plug'></i>
                <span class="link_name">Profile</span>
            </a>
            <i class='bx bxs-chevron-down arrow'></i>
         </div>

         <ul class="sub-menu">
            <li><a class="link_name" href="#">My Profile</a></li>
            <li><a href="{% url "edit" %}" id="edit-profile">Edit Profile</a></li>
            <li><a href="#">Notifications</a></li>
         </ul>
        </li>

        <li>
            <div class="iocn-link">
             <a href="#">
                <i class='bx bx-time'></i>
                <span class="link_name">Schedule</span>
            </a>
            <i class='bx bxs-chevron-down arrow'></i>
         </div>

         <ul class="sub-menu">
            <li><a class="link_name" href="{% url 'schedule' %}">Schedule</a></li>
            <li><a href="{% url 'sessions_list' %}">Book Now</a></li>
         </ul>
        </li>

        <li>
            <a href="#">
                <i class='bx bx-cog'></i>
                <span class="link_name">Settings</span>
            </a>
            <ul class="sub-menu blank">
                <li><a class="link_name" href="#">Settings</a></li>
            </ul>
        </li>
   
     <li>
         <div class="profile-details">
                <div class="profile-content">
                    <img src="{% static 'accounts/images/bgimage.jpeg' %}">
                </div>
        
                <div class="name-job">
                    <div class="profile-name">Brian Aweyo</div>
                    <div class="job">Developer</div>
                    <i class='bx bx-log-out'>Logout</i>
                </div>
                
            
         </div>  
     </li>
   </ul>
</div>



<section class="home-section">
   <div class="home-content">
    <i class="bx bx-menu"></i>
    
    <span class="text">
        {% if request.user.is_authenticated %}
         Welcome {{ request.user.first_name|default:request.user.username }}
        {% endif %}
    </span>
   </div>

   <div id="content-section">
    {% block content %}{% endblock  %}
   </div>
   
</section>

 <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
 <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

 <script src="{% static 'accounts/javascript/profilescripts.js' %}"></script> 
 <script src="{% static 'accounts/javascript/myscript.js' %}"></script>

<script>
    let arrow = document.querySelectorAll(" .arrow");
    for (var i = 0; i<arrow.length; i++){
     arrow[i].addEventListener("click",(e)=>{    
    let arrowParent = e.target.parentElement.parentElement;
    console.log(arrowParent);
    arrowParent.classList.toggle("showMenu");
    });
}

let sidebar =document.querySelector(".sidebar");
let sidebarBtn =document.querySelector(".bx-menu");
console.log(sidebarBtn);
sidebarBtn.addEventListener("click", ()=>{
  sidebar.classList.toggle("close");
});

//  $(document).ready(function() {
//         $('.nav-links a').click(function(e) {
//             e.preventDefault();
//             var targetUrl = $(this).data('url');
//             $.ajax({
//                 url: targetUrl,
//                 type: 'GET',
//                 dataType: 'json',
//                 success: function(response) {
//                     var jsonData = JSON.parse(response);
//                     var htmlContent = '';
//                     // Generate HTML content using the retrieved JSON data
//                     // Modify this section according to your data and HTML structure
//                     for (var i = 0; i < jsonData.length; i++) {
//                         var service = jsonData[i].fields;
//                         htmlContent += '<div><h3>' + service.service_name + '</h3><p>' + service.description + '</p><p>' + service.cost + '</p></div>';
//                     }
//                     // Insert the generated HTML content into the main section
//                     $('#content-section').html(htmlContent);
//                 }
//             });
//         });
//     });



</script>
</body>
</html>